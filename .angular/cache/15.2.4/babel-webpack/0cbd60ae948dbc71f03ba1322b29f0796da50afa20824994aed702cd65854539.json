{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport { ListItem } from 'src/app/models/list-item.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/wishes.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@ionic/angular\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nfunction AddingPage_ion_list_header_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-list-header\", 0)(1, \"ion-label\");\n    i0.ɵɵtext(2, \"Tasks to Do\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction AddingPage_ion_item_sliding_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-item-sliding\", 7)(1, \"ion-item\", 0)(2, \"ion-checkbox\", 8);\n    i0.ɵɵlistener(\"ngModelChange\", function AddingPage_ion_item_sliding_15_Template_ion_checkbox_ngModelChange_2_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const item_r2 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(item_r2.completed = $event);\n    })(\"ionChange\", function AddingPage_ion_item_sliding_15_Template_ion_checkbox_ionChange_2_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const item_r2 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.checkChange(item_r2));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ion-label\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"ion-item-options\", 9)(6, \"ion-item-option\", 10);\n    i0.ɵɵlistener(\"click\", function AddingPage_ion_item_sliding_15_Template_ion_item_option_click_6_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const idx_r3 = restoredCtx.index;\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.deleteItem(idx_r3));\n    });\n    i0.ɵɵelement(7, \"ion-icon\", 11);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const item_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", item_r2.completed);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r2.description);\n  }\n}\nexport class AddingPage {\n  constructor(whishesService, route, alertController) {\n    this.whishesService = whishesService;\n    this.route = route;\n    this.alertController = alertController;\n    this.itemName = '';\n    const id = this.route.snapshot.paramMap.get('id');\n    console.log(id);\n    this.list = whishesService.loadList(Number(id));\n    console.log(this.list);\n  }\n  ngOnInit() {}\n  addItem() {\n    if (this.itemName.trim().length === 0) {\n      return;\n    }\n    const newItem = new ListItem(this.itemName.trim());\n    this.list.items.push(newItem);\n    this.whishesService.saveData();\n    this.itemName = '';\n    console.log(this.list);\n  }\n  checkChange(item) {\n    console.log(item);\n    const pendings = this.list.items.filter(itemData => {\n      return !itemData.completed;\n    }).length;\n    if (pendings === 0) {\n      this.list.completed = true;\n      this.list.endDate = new Date();\n    } else {\n      this.list.completed = false;\n      this.list.endDate = null;\n    }\n    this.whishesService.saveData();\n    console.log(this.list);\n  }\n  deleteItem(idx) {\n    return __awaiter(this, void 0, void 0, function* () {\n      const alert = yield this.alertController.create({\n        header: 'Delete Item?',\n        buttons: [{\n          text: 'Delete',\n          handler: () => {\n            this.list.items.splice(idx, 1);\n            this.whishesService.saveData();\n          }\n        }, {\n          text: 'Cancel',\n          role: 'cancel',\n          handler: () => {\n            console.log('Canceled.');\n          }\n        }]\n      });\n      alert.present();\n    });\n  }\n}\nAddingPage.ɵfac = function AddingPage_Factory(t) {\n  return new (t || AddingPage)(i0.ɵɵdirectiveInject(i1.WishesService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.AlertController));\n};\nAddingPage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AddingPage,\n  selectors: [[\"app-adding\"]],\n  decls: 16,\n  vars: 4,\n  consts: [[\"color\", \"dark\"], [\"slot\", \"start\"], [\"color\", \"tertiary\"], [\"position\", \"floating\"], [\"type\", \"text\", 3, \"ngModel\", \"ngModelChange\", \"keyup.enter\"], [\"color\", \"dark\", 4, \"ngIf\"], [\"class\", \"animated fadeInDown\", 4, \"ngFor\", \"ngForOf\"], [1, \"animated\", \"fadeInDown\"], [\"slot\", \"start\", \"color\", \"tertiary\", 3, \"ngModel\", \"ngModelChange\", \"ionChange\"], [\"side\", \"end\"], [\"color\", \"danger\", 3, \"click\"], [\"slot\", \"icon-only\", \"name\", \"trash-outline\"]],\n  template: function AddingPage_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\", 0)(2, \"ion-buttons\", 1)(3, \"ion-buttons\");\n      i0.ɵɵelement(4, \"ion-back-button\", 2);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(5, \"ion-title\");\n      i0.ɵɵtext(6);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(7, \"ion-content\", 0)(8, \"ion-list\", 0)(9, \"ion-item\", 0)(10, \"ion-label\", 3);\n      i0.ɵɵtext(11, \"New Item\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"ion-input\", 4);\n      i0.ɵɵlistener(\"ngModelChange\", function AddingPage_Template_ion_input_ngModelChange_12_listener($event) {\n        return ctx.itemName = $event;\n      })(\"keyup.enter\", function AddingPage_Template_ion_input_keyup_enter_12_listener() {\n        return ctx.addItem();\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(13, \"ion-list\");\n      i0.ɵɵtemplate(14, AddingPage_ion_list_header_14_Template, 3, 0, \"ion-list-header\", 5);\n      i0.ɵɵtemplate(15, AddingPage_ion_item_sliding_15_Template, 8, 2, \"ion-item-sliding\", 6);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵtextInterpolate(ctx.list.title);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngModel\", ctx.itemName);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.list.items.length > 0);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.list.items);\n    }\n  },\n  dependencies: [i4.NgForOf, i4.NgIf, i5.NgControlStatus, i5.NgModel, i3.IonBackButton, i3.IonButtons, i3.IonCheckbox, i3.IonContent, i3.IonHeader, i3.IonIcon, i3.IonInput, i3.IonItem, i3.IonItemOption, i3.IonItemOptions, i3.IonItemSliding, i3.IonLabel, i3.IonList, i3.IonListHeader, i3.IonTitle, i3.IonToolbar, i3.BooleanValueAccessor, i3.TextValueAccessor, i3.IonBackButtonDelegate],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";AAGA,SAASA,QAAQ,QAAQ,gCAAgC;;;;;;;;;ICmBvDC,0CAA4D;IAChDA,2BAAW;IAAAA,iBAAY;;;;;;IAGnCA,2CAAgG;IAGlDA;MAAA;MAAA;MAAA,OAAaA,0CACvD;IAAA,EADsE;MAAA;MAAA;MAAA;MAAA,OAC1DA,0CAAiB;IAAA,EADyC;IACvCA,iBAAe;IAChDA,iCAAW;IAAAA,YAAoB;IAAAA,iBAAY;IAG5CA,2CAA6B;IACIA;MAAA;MAAA;MAAA;MAAA,OAASA,wCAAe;IAAA,EAAC;IACxDA,+BAA2D;IAC5DA,iBAAkB;;;;IAR0BA,eAA4B;IAA5BA,2CAA4B;IAE7DA,eAAoB;IAApBA,yCAAoB;;;ADnBnC,OAAM,MAAOC,UAAU;EAKtBC,YAAoBC,cAA6B,EACtCC,KAAqB,EACrBC,eAAgC;IAFvB,mBAAc,GAAdF,cAAc;IACvB,UAAK,GAALC,KAAK;IACL,oBAAe,GAAfC,eAAe;IAJ1B,aAAQ,GAAW,EAAE;IAMpB,MAAMC,EAAE,GAAG,IAAI,CAACF,KAAK,CAACG,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,IAAI,CAAC;IACjDC,OAAO,CAACC,GAAG,CAACL,EAAE,CAAC;IAEf,IAAI,CAACM,IAAI,GAAGT,cAAc,CAACU,QAAQ,CAACC,MAAM,CAACR,EAAE,CAAC,CAAC;IAC/CI,OAAO,CAACC,GAAG,CAAC,IAAI,CAACC,IAAI,CAAC;EACvB;EAEAG,QAAQ,IACR;EAEAC,OAAO;IAEN,IAAI,IAAI,CAACC,QAAQ,CAACC,IAAI,EAAE,CAACC,MAAM,KAAK,CAAC,EAAE;MACtC;;IAGD,MAAMC,OAAO,GAAa,IAAIrB,QAAQ,CAAC,IAAI,CAACkB,QAAQ,CAACC,IAAI,EAAE,CAAC;IAC5D,IAAI,CAACN,IAAI,CAACS,KAAK,CAACC,IAAI,CAACF,OAAO,CAAC;IAE7B,IAAI,CAACjB,cAAc,CAACoB,QAAQ,EAAE;IAE9B,IAAI,CAACN,QAAQ,GAAG,EAAE;IAClBP,OAAO,CAACC,GAAG,CAAC,IAAI,CAACC,IAAI,CAAC;EACvB;EAEAY,WAAW,CAACC,IAAc;IAEzBf,OAAO,CAACC,GAAG,CAACc,IAAI,CAAC;IACjB,MAAMC,QAAQ,GAAG,IAAI,CAACd,IAAI,CAACS,KAAK,CAACM,MAAM,CAACC,QAAQ,IAAG;MAElD,OAAO,CAACA,QAAQ,CAACC,SAAS;IAC3B,CAAC,CAAC,CAACV,MAAM;IAET,IAAIO,QAAQ,KAAK,CAAC,EAAE;MACnB,IAAI,CAACd,IAAI,CAACiB,SAAS,GAAG,IAAI;MAC1B,IAAI,CAACjB,IAAI,CAACkB,OAAO,GAAG,IAAIC,IAAI,EAAE;KAC9B,MACI;MACJ,IAAI,CAACnB,IAAI,CAACiB,SAAS,GAAG,KAAK;MAC3B,IAAI,CAACjB,IAAI,CAACkB,OAAO,GAAG,IAAI;;IAGzB,IAAI,CAAC3B,cAAc,CAACoB,QAAQ,EAAE;IAC9Bb,OAAO,CAACC,GAAG,CAAC,IAAI,CAACC,IAAI,CAAC;EACvB;EAEMoB,UAAU,CAACC,GAAW;;MAE3B,MAAMC,KAAK,GAAG,MAAM,IAAI,CAAC7B,eAAe,CAAC8B,MAAM,CAAC;QAC/CC,MAAM,EAAE,cAAc;QACtBC,OAAO,EAAE,CACR;UACCC,IAAI,EAAE,QAAQ;UACdC,OAAO,EAAE,MAAK;YACb,IAAI,CAAC3B,IAAI,CAACS,KAAK,CAACmB,MAAM,CAACP,GAAG,EAAE,CAAC,CAAC;YAC9B,IAAI,CAAC9B,cAAc,CAACoB,QAAQ,EAAE;UAC/B;SACA,EACD;UACCe,IAAI,EAAE,QAAQ;UACdG,IAAI,EAAE,QAAQ;UACdF,OAAO,EAAE,MAAK;YACb7B,OAAO,CAACC,GAAG,CAAC,WAAW,CAAC;UACzB;SACA;OAEF,CAAC;MAEFuB,KAAK,CAACQ,OAAO,EAAE;IAChB,CAAC;;;;mBA9EWzC,UAAU;AAAA;;QAAVA,UAAU;EAAA0C;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCZvB/C,kCAAY;MAIRA,qCAAoD;MACrDA,iBAAc;MAEfA,iCAAW;MAAAA,YAAc;MAAAA,iBAAY;MAIvCA,sCAA0B;MAIQA,yBAAQ;MAAAA,iBAAY;MACnDA,qCAAwE;MAAjDA;QAAA;MAAA,EAAsB;QAAA,OAAgBgD,aAAS;MAAA,EAAzB;MAA2BhD,iBAAY;MAItFA,iCAAU;MAETA,qFAEkB;MAElBA,uFAcmB;MAEpBA,iBAAW;;;MAnCCA,eAAc;MAAdA,oCAAc;MASDA,eAAsB;MAAtBA,sCAAsB;MAMfA,eAA2B;MAA3BA,gDAA2B;MAIKA,eAAe;MAAfA,wCAAe","names":["ListItem","i0","AddingPage","constructor","whishesService","route","alertController","id","snapshot","paramMap","get","console","log","list","loadList","Number","ngOnInit","addItem","itemName","trim","length","newItem","items","push","saveData","checkChange","item","pendings","filter","itemData","completed","endDate","Date","deleteItem","idx","alert","create","header","buttons","text","handler","splice","role","present","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\JMTE\\Angular\\05-Wishes\\src\\app\\pages\\adding\\adding.page.ts","C:\\JMTE\\Angular\\05-Wishes\\src\\app\\pages\\adding\\adding.page.html"],"sourcesContent":["import { Component, Input, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { AlertController } from '@ionic/angular';\nimport { ListItem } from 'src/app/models/list-item.model';\nimport { List } from 'src/app/models/list.model';\nimport { WishesService } from 'src/app/services/wishes.service';\n\n@Component({\n\tselector: 'app-adding',\n\ttemplateUrl: './adding.page.html',\n\tstyleUrls: ['./adding.page.scss'],\n})\nexport class AddingPage implements OnInit {\n\n\tlist: List;\n\titemName: string = '';\n\n\tconstructor(private whishesService: WishesService\n\t\t, private route: ActivatedRoute\n\t\t, private alertController: AlertController) {\n\n\t\tconst id = this.route.snapshot.paramMap.get('id');\n\t\tconsole.log(id);\n\n\t\tthis.list = whishesService.loadList(Number(id));\n\t\tconsole.log(this.list);\n\t}\n\n\tngOnInit() {\n\t}\n\n\taddItem() {\n\n\t\tif (this.itemName.trim().length === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst newItem: ListItem = new ListItem(this.itemName.trim());\n\t\tthis.list.items.push(newItem);\n\n\t\tthis.whishesService.saveData();\n\n\t\tthis.itemName = '';\n\t\tconsole.log(this.list);\n\t}\n\n\tcheckChange(item: ListItem) {\n\n\t\tconsole.log(item);\n\t\tconst pendings = this.list.items.filter(itemData => {\n\n\t\t\treturn !itemData.completed;\n\t\t}).length;\n\n\t\tif (pendings === 0) {\n\t\t\tthis.list.completed = true;\n\t\t\tthis.list.endDate = new Date();\n\t\t}\n\t\telse {\n\t\t\tthis.list.completed = false;\n\t\t\tthis.list.endDate = null;\n\t\t}\n\n\t\tthis.whishesService.saveData();\n\t\tconsole.log(this.list);\n\t}\n\n\tasync deleteItem(idx: number) {\n\n\t\tconst alert = await this.alertController.create({\n\t\t\theader: 'Delete Item?',\n\t\t\tbuttons: [\n\t\t\t\t{\n\t\t\t\t\ttext: 'Delete',\n\t\t\t\t\thandler: () => {\n\t\t\t\t\t\tthis.list.items.splice(idx, 1);\n\t\t\t\t\t\tthis.whishesService.saveData();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttext: 'Cancel',\n\t\t\t\t\trole: 'cancel',\n\t\t\t\t\thandler: () => {\n\t\t\t\t\t\tconsole.log('Canceled.');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t});\n\n\t\talert.present();\n\t}\n}\n","<ion-header>\n\t<ion-toolbar color=\"dark\">\n\t\t<ion-buttons slot=\"start\">\n\t\t\t<ion-buttons>\n\t\t\t\t<ion-back-button color=\"tertiary\"></ion-back-button>\n\t\t\t</ion-buttons>\n\t\t</ion-buttons>\n\t\t<ion-title>{{list.title}}</ion-title>\n\t</ion-toolbar>\n</ion-header>\n\n<ion-content color=\"dark\">\n\n\t<ion-list color=\"dark\">\n\t\t<ion-item color=\"dark\">\n\t\t\t<ion-label position=\"floating\">New Item</ion-label>\n\t\t\t<ion-input type=\"text\" [(ngModel)]=\"itemName\" (keyup.enter)=\"addItem()\"></ion-input>\n\t\t</ion-item>\n\t</ion-list>\n\n\t<ion-list>\n\n\t\t<ion-list-header color=\"dark\" *ngIf=\"list.items.length > 0\">\n\t\t\t<ion-label>Tasks to Do</ion-label>\n\t\t</ion-list-header>\n\n\t\t<ion-item-sliding class=\"animated fadeInDown\" *ngFor=\"let item of list.items; let idx = index;\">\n\n\t\t\t<ion-item color=\"dark\">\n\t\t\t\t<ion-checkbox slot=\"start\" color=\"tertiary\" [(ngModel)]=\"item.completed\"\n\t\t\t\t\t(ionChange)=\"checkChange(item)\"></ion-checkbox>\n\t\t\t\t<ion-label>{{item.description}}</ion-label>\n\t\t\t</ion-item>\n\n\t\t\t<ion-item-options side=\"end\">\n\t\t\t\t<ion-item-option color=\"danger\" (click)=\"deleteItem(idx)\">\n\t\t\t\t\t<ion-icon slot=\"icon-only\" name=\"trash-outline\"></ion-icon>\n\t\t\t\t</ion-item-option>\n\t\t\t</ion-item-options>\n\n\t\t</ion-item-sliding>\n\n\t</ion-list>\n\n</ion-content>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}