{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport { IonList } from '@ionic/angular';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/wishes.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@ionic/angular\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../../pipes/completed-filter.pipe\";\nfunction ListsComponent_ion_item_sliding_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-item-sliding\", 2)(1, \"ion-item\", 3);\n    i0.ɵɵlistener(\"click\", function ListsComponent_ion_item_sliding_1_Template_ion_item_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const list_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.editList(list_r1));\n    });\n    i0.ɵɵelementStart(2, \"ion-label\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"ion-note\", 4);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"ion-item-options\", 5)(7, \"ion-item-option\", 6);\n    i0.ɵɵlistener(\"click\", function ListsComponent_ion_item_sliding_1_Template_ion_item_option_click_7_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const list_r1 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.renameList(list_r1));\n    });\n    i0.ɵɵelement(8, \"ion-icon\", 7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"ion-item-options\", 8)(10, \"ion-item-option\", 9);\n    i0.ɵɵlistener(\"click\", function ListsComponent_ion_item_sliding_1_Template_ion_item_option_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const list_r1 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.deleteList(list_r1.id));\n    });\n    i0.ɵɵelement(11, \"ion-icon\", 10);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const list_r1 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(list_r1.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", list_r1.items.length, \" items\");\n  }\n}\nexport class ListsComponent {\n  constructor(whishesService, router, alertController) {\n    this.whishesService = whishesService;\n    this.router = router;\n    this.alertController = alertController;\n    this.completed = false;\n  }\n  ngOnInit() {}\n  // async addingList() {\n  // \t// this.router.navigateByUrl('/tabs/tab1/adding');\n  // \tconst alert = await this.alertController.create({\n  // \t\theader: 'New List',\n  // \t\tinputs: [\n  // \t\t\t{\n  // \t\t\t\tname: 'title',\n  // \t\t\t\ttype: 'text',\n  // \t\t\t\tplaceholder: 'List Name'\n  // \t\t\t}\n  // \t\t],\n  // \t\tbuttons: [\n  // \t\t\t{\n  // \t\t\t\ttext: 'Create',\n  // \t\t\t\thandler: (data) => {\n  // \t\t\t\t\tif (data.title.trim().length === 0) {\n  // \t\t\t\t\t\tconsole.log('0');\n  // \t\t\t\t\t\treturn;\n  // \t\t\t\t\t}\n  // \t\t\t\t\tconst id = this.whishesService.createList(data.title.trim());\n  // \t\t\t\t\tconsole.log(id);\n  // \t\t\t\t\tthis.router.navigateByUrl(`/tabs/tab1/adding/${id}`);\n  // \t\t\t\t\tconsole.log(data);\n  // \t\t\t\t}\n  // \t\t\t},\n  // \t\t\t{\n  // \t\t\t\ttext: 'Cancel',\n  // \t\t\t\trole: 'cancel',\n  // \t\t\t\thandler: () => {\n  // \t\t\t\t\tconsole.log('Canceled.');\n  // \t\t\t\t}\n  // \t\t\t}\n  // \t\t]\n  // \t});\n  // \talert.present();\n  // }\n  editList(list) {\n    console.log(list);\n    if (this.completed) {\n      this.router.navigateByUrl(`/tabs/tab1/adding/${list.id}`);\n    } else {\n      this.router.navigateByUrl(`/tabs/tab2/adding/${list.id}`);\n    }\n  }\n  deleteList(id) {\n    return __awaiter(this, void 0, void 0, function* () {\n      const alert = yield this.alertController.create({\n        header: 'Delete List?',\n        buttons: [{\n          text: 'Delete',\n          handler: () => {\n            this.whishesService.lists = this.whishesService.lists.filter(listData => {\n              return listData.id !== id;\n            });\n            this.whishesService.saveData();\n          }\n        }, {\n          text: 'Cancel',\n          role: 'cancel',\n          handler: () => {\n            console.log('Canceled.');\n          }\n        }]\n      });\n      alert.present();\n    });\n  }\n  renameList(list) {\n    return __awaiter(this, void 0, void 0, function* () {\n      const alert = yield this.alertController.create({\n        header: 'Rename List',\n        inputs: [{\n          name: 'title',\n          type: 'text',\n          value: list.title,\n          placeholder: 'List Name'\n        }],\n        buttons: [{\n          text: 'Save',\n          handler: data => {\n            if (data.title.trim().length === 0) {\n              console.log('0');\n              return;\n            }\n            list = this.whishesService.loadList(list.id);\n            list.title = data.title.trim();\n            this.whishesService.saveData();\n            this.ionicList.closeSlidingItems();\n            console.log(data);\n          }\n        }, {\n          text: 'Cancel',\n          role: 'cancel',\n          handler: () => {\n            this.ionicList.closeSlidingItems();\n            console.log('Canceled.');\n          }\n        }]\n      });\n      alert.present();\n    });\n  }\n}\nListsComponent.ɵfac = function ListsComponent_Factory(t) {\n  return new (t || ListsComponent)(i0.ɵɵdirectiveInject(i1.WishesService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.AlertController));\n};\nListsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ListsComponent,\n  selectors: [[\"app-lists\"]],\n  viewQuery: function ListsComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(IonList, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.ionicList = _t.first);\n    }\n  },\n  inputs: {\n    completed: \"completed\"\n  },\n  decls: 3,\n  vars: 4,\n  consts: [[\"color\", \"dark\"], [\"class\", \"animated fadeInDown\", 4, \"ngFor\", \"ngForOf\"], [1, \"animated\", \"fadeInDown\"], [\"detail\", \"\", \"color\", \"dark\", 3, \"click\"], [\"slot\", \"end\", \"color\", \"tertiary\"], [\"side\", \"start\"], [\"color\", \"tertiary\", 3, \"click\"], [\"slot\", \"icon-only\", \"name\", \"pencil-outline\"], [\"side\", \"end\"], [\"color\", \"danger\", 3, \"click\"], [\"slot\", \"icon-only\", \"name\", \"trash-outline\"]],\n  template: function ListsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ion-list\", 0);\n      i0.ɵɵtemplate(1, ListsComponent_ion_item_sliding_1_Template, 12, 2, \"ion-item-sliding\", 1);\n      i0.ɵɵpipe(2, \"completedFilter\");\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind2(2, 1, ctx.whishesService.lists, ctx.completed));\n    }\n  },\n  dependencies: [i4.NgForOf, i3.IonIcon, i3.IonItem, i3.IonItemOption, i3.IonItemOptions, i3.IonItemSliding, i3.IonLabel, i3.IonList, i3.IonNote, i5.CompletedFilterPipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["IonList","i0","ListsComponent","constructor","whishesService","router","alertController","ngOnInit","editList","list","console","log","completed","navigateByUrl","id","deleteList","alert","create","header","buttons","text","handler","lists","filter","listData","saveData","role","present","renameList","inputs","name","type","value","title","placeholder","data","trim","length","loadList","ionicList","closeSlidingItems","selectors","viewQuery"],"sourceRoot":"","sources":["C:\\JMTE\\Angular\\05-Wishes\\src\\app\\components\\lists\\lists.component.ts","C:\\JMTE\\Angular\\05-Wishes\\src\\app\\components\\lists\\lists.component.html"],"sourcesContent":["import { Component, Input, OnInit, ViewChild } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AlertController, IonList } from '@ionic/angular';\nimport { List } from 'src/app/models/list.model';\nimport { WishesService } from 'src/app/services/wishes.service';\n\n@Component({\n\tselector: 'app-lists',\n\ttemplateUrl: './lists.component.html',\n\tstyleUrls: ['./lists.component.scss'],\n})\n\nexport class ListsComponent implements OnInit {\n\n\t@Input() completed: boolean = false;\n\t@ViewChild(IonList) ionicList!: IonList;\n\n\tconstructor(public whishesService: WishesService\n\t\t, private router: Router\n\t\t, private alertController: AlertController) {\n\n\t}\n\n\tngOnInit(): void { }\n\n\t// async addingList() {\n\n\t// \t// this.router.navigateByUrl('/tabs/tab1/adding');\n\n\t// \tconst alert = await this.alertController.create({\n\t// \t\theader: 'New List',\n\t// \t\tinputs: [\n\t// \t\t\t{\n\t// \t\t\t\tname: 'title',\n\t// \t\t\t\ttype: 'text',\n\t// \t\t\t\tplaceholder: 'List Name'\n\t// \t\t\t}\n\t// \t\t],\n\t// \t\tbuttons: [\n\t// \t\t\t{\n\t// \t\t\t\ttext: 'Create',\n\t// \t\t\t\thandler: (data) => {\n\n\t// \t\t\t\t\tif (data.title.trim().length === 0) {\n\t// \t\t\t\t\t\tconsole.log('0');\n\t// \t\t\t\t\t\treturn;\n\t// \t\t\t\t\t}\n\n\t// \t\t\t\t\tconst id = this.whishesService.createList(data.title.trim());\n\t// \t\t\t\t\tconsole.log(id);\n\t// \t\t\t\t\tthis.router.navigateByUrl(`/tabs/tab1/adding/${id}`);\n\n\t// \t\t\t\t\tconsole.log(data);\n\t// \t\t\t\t}\n\t// \t\t\t},\n\t// \t\t\t{\n\t// \t\t\t\ttext: 'Cancel',\n\t// \t\t\t\trole: 'cancel',\n\t// \t\t\t\thandler: () => {\n\t// \t\t\t\t\tconsole.log('Canceled.');\n\t// \t\t\t\t}\n\t// \t\t\t}\n\t// \t\t]\n\t// \t});\n\n\t// \talert.present();\n\t// }\n\n\teditList(list: List) {\n\n\t\tconsole.log(list);\n\n\t\tif (this.completed) {\n\t\t\tthis.router.navigateByUrl(`/tabs/tab1/adding/${list.id}`);\n\t\t}\n\t\telse {\n\t\t\tthis.router.navigateByUrl(`/tabs/tab2/adding/${list.id}`);\n\t\t}\n\t}\n\n\tasync deleteList(id: number) {\n\n\t\tconst alert = await this.alertController.create({\n\t\t\theader: 'Delete List?',\n\t\t\tbuttons: [\n\t\t\t\t{\n\t\t\t\t\ttext: 'Delete',\n\t\t\t\t\thandler: () => {\n\n\t\t\t\t\t\tthis.whishesService.lists = this.whishesService.lists.filter(listData => {\n\n\t\t\t\t\t\t\treturn listData.id !== id\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.whishesService.saveData();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttext: 'Cancel',\n\t\t\t\t\trole: 'cancel',\n\t\t\t\t\thandler: () => {\n\t\t\t\t\t\tconsole.log('Canceled.');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t});\n\n\t\talert.present();\n\t}\n\n\tasync renameList(list: List) {\n\n\t\tconst alert = await this.alertController.create({\n\t\t\theader: 'Rename List',\n\t\t\tinputs: [\n\t\t\t\t{\n\t\t\t\t\tname: 'title',\n\t\t\t\t\ttype: 'text',\n\t\t\t\t\tvalue: list.title,\n\t\t\t\t\tplaceholder: 'List Name'\n\t\t\t\t}\n\t\t\t],\n\t\t\tbuttons: [\n\t\t\t\t{\n\t\t\t\t\ttext: 'Save',\n\t\t\t\t\thandler: (data) => {\n\n\t\t\t\t\t\tif (data.title.trim().length === 0) {\n\t\t\t\t\t\t\tconsole.log('0');\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlist = this.whishesService.loadList(list.id);\n\t\t\t\t\t\tlist.title = data.title.trim();\n\n\t\t\t\t\t\tthis.whishesService.saveData();\n\t\t\t\t\t\tthis.ionicList.closeSlidingItems();\n\n\t\t\t\t\t\tconsole.log(data);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttext: 'Cancel',\n\t\t\t\t\trole: 'cancel',\n\t\t\t\t\thandler: () => {\n\t\t\t\t\t\tthis.ionicList.closeSlidingItems();\n\t\t\t\t\t\tconsole.log('Canceled.');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t});\n\n\t\talert.present();\n\t}\n}\n","<ion-list color=\"dark\">\n\n\t<ion-item-sliding class=\"animated fadeInDown\"\n\t\t*ngFor=\"let list of whishesService.lists | completedFilter : completed\">\n\n\t\t<ion-item detail color=\"dark\" (click)=\"editList(list)\">\n\t\t\t<ion-label>{{list.title}}</ion-label>\n\t\t\t<ion-note slot=\"end\" color=\"tertiary\">{{list.items.length}} items</ion-note>\n\t\t</ion-item>\n\n\t\t<ion-item-options side=\"start\">\n\t\t\t<ion-item-option color=\"tertiary\" (click)=\"renameList(list)\">\n\t\t\t\t<ion-icon slot=\"icon-only\" name=\"pencil-outline\"></ion-icon>\n\t\t\t</ion-item-option>\n\t\t</ion-item-options>\n\t\t<ion-item-options side=\"end\">\n\t\t\t<ion-item-option color=\"danger\" (click)=\"deleteList(list.id)\">\n\t\t\t\t<ion-icon slot=\"icon-only\" name=\"trash-outline\"></ion-icon>\n\t\t\t</ion-item-option>\n\t\t</ion-item-options>\n\n\t</ion-item-sliding>\n\n</ion-list>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}